/**
 * 
 * @authors AXH
 * @date    2017-05-22 10:17:05
 * @update  2017-09-15 17:19:05
 * @version 1.1.5
 */
;(function ($, window, document, undefined){var InputClear = function (elements, options){this.elements = elements; this.init();}; InputClear.prototype ={init: function (){var that = this; that.elements.on('focus', function (){that.inputChange($(this), that);}).on('input propertychange', function (){var $element = $(this); that.inputChange($(this), that); $element.trigger("onChangeEvent", $element);}).on('blur', function (){var $this = $(this); $this.next('i.delIcon').remove();}); /*IE浏览器去掉初始化del按钮*/ setTimeout(function (){if ((navigator.userAgent.indexOf('MSIE') >= 0) && (navigator.userAgent.indexOf('Opera') < 0)){that.elements.next('i.delIcon').remove();} }, 20);}, /*输入框内容监听事件*/ inputChange: function ($element, that){if ($element.attr('readonly') == undefined && (!$element.hasClass('layer-date')) && $element.attr('type') === 'text' && $element.attr('hidden') != 'hidden'){$element.next('i.delIcon').remove(); var value = $element.val(); if (value.substr(0, 1).replace(/\s/g, '') == '' || value.substr(-1).replace(/\s/g, '') == ''){value = value.replace(/(^\s+)|(\s+$)/g, ''); $element.val(value);} if (value != ''){var html = '<i class="delIcon"></i>'; $(html).insertAfter($element); $('.delIcon').unbind('mousedown').bind('mousedown', function (){that.delClick($(this), that);});} }}, /*删除按钮点击事件*/ delClick: function ($element, that){var inputObj = $element.prev('input'); inputObj.val('').focus(); $element.remove(); inputObj.trigger('onClearEvent', inputObj);} }; $.fn.inputClear = function (options){var thisEvent = new InputClear(this, options); return this;}})(jQuery, window, document);